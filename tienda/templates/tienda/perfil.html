{% extends 'tienda/base.html' %}
{% load static %}
{% block content %}

<div class="contenedor-perfil  ">
    <div class="row d-flex justify-content-between align-items-center">
        <img class="perfil-img" src="{% static '/img/generic-profile.png'%}">
        <form method= "POST" class="perfil-form">
        <div class=" perfil-header d-flex align-items-center">
            <p>{{flag}}Nombre de Usuario: &nbsp;&nbsp;</p>
            {% if mode == 'edit' %}
                <input class=" username-perfil " type="text" name= "nombre_usuario" value={{user.username}}>
            {% else %}
                <h1 class="">{{user.username}}</h1>
            {% endif %}
        </div>
    </div>
    <hr>
            {% csrf_token %}
            <div class="form-group">
                <label for="inputNombre">Nombre</label>
                <input {% if mode != "edit" %} disabled {% endif %} type="text" id="inputNombre" name="nombre" class="form-control" value="{{cliente.nombre}}">
            </div>
            <div class="form-group">
                <label for="inputPriApellido">Primer Apellido</label>
                <input {% if mode != "edit" %} disabled {% endif %} type="text" id="inputPriApellido"  name="pri_apellido" class="form-control" value="{{cliente.primer_apellido}}">
            </div>
            <div class="form-group">
                <label for="inputSegApellido">Segundo Apellido</label>
                <input {% if mode != 'edit' %} disabled {% else %} {% endif %} type="text" id="inputSegApellido" name="seg_apellido" class="form-control" value="{{cliente.segundo_apellido}}">

            </div>
            <div class="form-group">
              <label for="inputEmail">Correo Electrónico</label>
              <input {% if mode != "edit" %} disabled {% endif %} type="email" class="form-control" name="email" id="inputEmail" aria-describedby="emailHelp" value="{{usuario.email}}">
            </div>
            <div class="form-group">
              <label for="inputDireccion">Dirección</label>
              <input {% if mode != "edit" %} disabled {% endif %} type="text" class="form-control" id="inputDireccion" name="direccion" value="{{cliente.direccion}}">
            </div>
            <div class="form-group">
                <label for="inputTelefono">Teléfono</label>
                <div class="input-group" >
                    <div class="input-group-prepend">
                        <div class="input-group-text">+ 56 9</div>
                    </div>
                    <input {% if mode != "edit" %} disabled {% endif %} type="text" class="form-control" name="telefono" id="inputTelefono"  value="{{cliente.telefono}}">
                </div>
            </div>
            {% if mode != 'edit' %}
            <div class="form-group">
              <label for="inputPassword">Contraseña</label>
              <input {% if mode != "edit" %} disabled {% endif %} type="password" name="contrasena" class="form-control" id="inputPassword" value="************">
            </div>
            {% endif %}
            {% if mode == 'edit' %}
            

            <a href="{% url 'change_pass' %}"><button class="btn btn-primary my-3" type="button">Cambiar Contraseña</button></a>
                <button class="btn btn-primary my-3" data-toggle="modal" data-target="#save-confirm" type="button">Guardar</button>
                <div class="modal fade" id="save-confirm" tabindex="-1" aria-labelledby="save-cofirm-label" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="save-cofirm-label">Confirmación</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            </div>
                            <div class="modal-body">
                                Seguro que quieres guardar los cambios?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                <button type="submit" name="guardar-btn" class="btn btn-primary">Guardar Cambios</button>
                            </div>
                        </div>
                    </div>
                    </div>
            {% else %}
                <button class="btn btn-primary my-3" id="edit-btn-perfil" name="edit-btn" type="submit">Editar</button>
            {% endif %}
        </form>

</div>

{% comment %}
    <script src="{% static 'JS/perfil.js' %}"></script>
{% endcomment %}

{% endblock %}